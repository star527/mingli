# AI算命八字排盘工具 - 完整架构设计

## 1. 系统概述
微信小程序 + 管理后台 + 会员体系的AI算命工具

## 2. 核心功能模块

### 2.1 微信小程序端
- **免费功能**
  - 基础八字排盘
  - 简单命理分析
  - 五行基础解读
  
- **会员功能**
  - 深度命理分析
  - 视频课程观看
  - 个性化运势预测
  - 专家一对一咨询（可选）

### 2.2 管理后台
- 用户管理
- 会员管理
- 视频课程管理
- 数据分析
- 财务管理

## 3. 会员体系设计

### 3.1 会员等级
- **免费用户**：基础功能
- **普通会员**：视频课程 + 深度分析
- **高级会员**：专家咨询 + 专属服务

### 3.2 付费方式
- 月费/年费订阅
- 单次购买课程
- 积分兑换系统

## 4. 技术架构

### 4.1 前端技术栈
- 微信小程序：原生开发 + Vant Weapp
- 管理后台：Vue3 + Element Plus

### 4.2 后端技术栈
- Node.js + Express/Fastify
- MySQL + Redis
- 对象存储（视频文件）

### 4.3 视频服务
- 视频上传：阿里云OSS/腾讯云COS
- 视频播放：HLS流媒体
- 防盗链：Token验证

## 5. 数据库设计

### 核心数据表
1. users - 用户表
2. memberships - 会员表
3. videos - 视频课程表
4. orders - 订单表
5. user_videos - 用户观看记录

## 6. 开发阶段规划

### 第一阶段（2-3周）
- 基础框架搭建
- 八字排盘核心算法
- 用户系统

### 第二阶段（2-3周）
- 会员功能开发
- 视频上传播放
- 支付集成

### 第三阶段（1-2周）
- 管理后台
- 数据分析
- 优化测试

## 7. 商业模式

### 收入来源
1. 会员订阅费
2. 单课程销售
3. 广告收入（免费用户）
4. 专家咨询服务

### 成本控制
- 使用云服务按量付费
- 视频CDN优化
- 智能缓存策略